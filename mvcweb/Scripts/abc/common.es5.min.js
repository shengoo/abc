"use strict";var webAbc={showMessage:function(n,t){var i=window.top.layer||window.layer;i?i.alert(t,{icon:n||1,title:" ",move:!1,shadeClose:!0,skin:"layer-ext-abc"}):window.parent.showMessage(n,t)},ajax:function(n){var t=n.success;n.dataType="JSON";n.type=n.type||"post";n.url+=(n.url.indexOf("?")>0?"&":"?")+"random="+Math.random();n.success=function(n){n.IsSuccess?typeof t=="function"&&t(n.Result):n.ErrCode=="1002"?(window.parent.CurrentUser=null,window.parent.showLogin()):webAbc.showMessage(2,n.ErrMsg)};$.ajax(n)},dateParseString:function(n,t,i){var r="";if(t!==!1){var s=n.getFullYear(),u=n.getMonth()+1,f=n.getDate();r=s+"-"+(u>9?u:"0"+u)+"-"+(f>9?f:"0"+f)}if(i!==!1){var h=n.getHours(),e=n.getMinutes(),o=n.getSeconds();r+=(t!=!1?" ":"")+h+":"+(e>9?e:"0"+e)+":"+(o>9?o:"0"+o)}return r},stringParseDate:function(n){return Date.parse(n.replace("-","/").replace("-","/"))},getWeekDay:function(n){switch(n){case 0:return"周日";case 1:return"周一";case 2:return"周二";case 3:return"周三";case 4:return"周四";case 5:return"周五";case 6:return"周六"}},getMonthDayCount:function(n,t){switch(t){case 1:case 3:case 5:case 7:case 8:case 10:case 12:return 31;case 2:return n%400==0&&n%4==0?29:28;case 4:case 6:case 9:case 11:return 30}},getPageSetting:function(n,t,i,r,u){var s=Math.ceil(t.length/i),f=0,o=5,e=1,c=function(n){r(t.slice(n*i-i,n*i))},a,h,l;if(u){a='<a class="page_for hidden" title="上一页" data="-1"><<\/a><a title="下一页" class="page_for '+(s==1?"hidden":"")+'" style="margin-left:3px;" data="1">><\/a>';n.html(a);h=$("a",n);h.click(function(){var n=$(this),t=parseInt(n.attr("data"));e+=t;e>1?h.eq(0).removeClass("hidden"):h.eq(0).addClass("hidden");e==s?h.eq(1).addClass("hidden"):h.eq(1).removeClass("hidden");c(e)});c(e);return}l=function l(){for(var u,i,r=f>0?'<a class="page_for" title="上一页" data="'+(f-1)+'"><<\/a>':"",t=1;t<=o&&f*o+t<=s;t++)r+='<a pos="'+t+'" data="'+(f*o+t)+'">'+(f*o+t)+"<\/a>";r+=(f+1)*o<s?'<a title="下一页" class="page_for" data="'+(f+1)+'">><\/a>':"";n.html(r);u=$("a",n);i=u.eq(e-f*o-(f>0?0:1));u.click(function(){var n=$(this),r=parseInt(n.attr("data")),t;n.hasClass("page_for")?(f=r,t=parseInt(i.attr("pos")),e=f*o+t,e=e>s?s:e,l()):(i.removeClass("page_focus"),t=parseInt(n.attr("pos")),c(r),i=n,i.addClass("page_focus"))});c(e);i.addClass("page_focus")};l()},validate:function(){return!0},updateFrameHeight:function(n){window.parent.document.getElementById("ContentFrame").style.height=(n||800)+"px"},getUrlQuery:function(n){if(!n)return null;n.indexOf("?")>-1&&(n=n.substr(1));for(var n='{"'+n+'"}';n.indexOf("=")>-1;)n=n.replace("=",'":"');while(n.indexOf("&")>-1)n=n.replace("&",'","');return JSON.parse(n)},judgeSystem:function(){return window.location.href.indexOf("Young")>-1},markStar:function(n){var o=this,i=n.remark||1,r=$.url+"/Images/star-on.png",u=$.url+"/Images/star-off.png",e=function(t){for(var f="",e=n.changed?t:5,i=0;i<e;i++)f+='<img src="'+(t>i?r:u)+'" />';return f},f=$('<div style="width:100%;float:left;margin-top:5px;padding-left:30px;"><label class="label" style="float:left; font-size:13px;">'+n.title+':<\/label><div class="rate" style="float:left;">'+e(i)+"<\/div><\/div>"),t;(f.appendTo(n.container),n.changed)||(t=f.find("img"),t.mouseover(function(n){var i=!1;t.each(function(t,f){f.src=i?u:r;i=i||f==n.target})}),t.mouseout(function(){t.each(function(n,t){t.src=n<i?r:u})}),t.click(function(r){t.each(function(t,u){u==r.target&&(i=t+1,n.fn&&n.fn(i))})}))},getCharLength:function(n){var r=0,i,t;if(n==null)return 0;for(i=0;i<n.length;i++)t=n.charCodeAt(i),t>=1&&t<=126||65376<=t&&t<=65439?r++:r+=2;return r},bindPageImage:function(n,t){webAbc.ajax({url:$.url+"/home/getwebsiteimages",async:!1,data:{siteType:window.parent.SiteType||0,typeId:n},success:function(n){n.length!=0&&t(n)}})},PlayGenSee:function(n){$.ajax({url:"/Gensee/AssignGenSee",data:{CplId:n.CplId,CourseType:n.CourseType},type:"post",success:function(n){var t="";n&&typeof n=="string"&&(t=n);webAbc.OpenPage(n)}})},OpenPage:function(n){var t=window.top.layer||window.layer;if(!n){webAbc.showMessage(1,"视频正在上传中，敬请期待！");return}t.open({type:2,title:" ",shadeClose:!0,area:["900px","543px"],content:[n,"no"]})},OpenLayer:function(n){var t=window.top.layer||window.layer;t.open(n)}};webAbc.autoAjustIframeHeight=function(){window.top!==window&&window.top.$("#ContentFrame").css({height:document.body.clientHeight})};webAbc.openDom=function(n){var t=arguments.length<=1||arguments[1]===undefined?"440px":arguments[1],i=arguments.length<=2||arguments[2]===undefined?"auto":arguments[2],r=window.layer||window.parent.layer;r.open({type:1,title:" ",move:!1,shadeClose:!0,area:[t,i],skin:"layer-ext-abc",content:n})};window.parent.scrollTo(0,0);$('img[action="login"]').click(function(){window.parent.showLogin()});window.onload=function(){webAbc.autoAjustIframeHeight()};$(function(){var n=window.layer||window.parent.layer;n&&(n.config({extend:["skin/abccart/style.css"],skin:"layer-ext-abccart"}),n.config({extend:["skin/abc/style.css"],skin:"layer-ext-abc"}));window.top!==window&&(window.top.CurrentUser?($("#hidTab").html("个人中心"),window.top.CurrentUser.Type!=1&&$("#hidTab").html("个人中心"),(window.top.CurrentUser.Type==2||window.top.CurrentUser.Type==4)&&$("#hidTab").attr("href","/Member/Member?action=myanswer"),window.top.CurrentUser.Type==3&&$("#hidTab").attr("href","/Teacher/CourseList")):$(".nav li:last").hide())});